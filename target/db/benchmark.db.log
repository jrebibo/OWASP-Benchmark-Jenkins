/*C1*/SET SCHEMA SYSTEM_LOBS
INSERT INTO BLOCKS VALUES(0,2147483647,0)
COMMIT
/*C2*/SET SCHEMA PUBLIC
DISCONNECT
/*C3*/SET SCHEMA PUBLIC
DROP PROCEDURE IF EXISTS verifyUserPassword
DROP PROCEDURE IF EXISTS verifyEmployeeSalary
DROP TABLE IF EXISTS USERS
DROP TABLE IF EXISTS EMPLOYEE
DROP TABLE IF EXISTS CERTIFICATE
DROP TABLE IF EXISTS SCORE
CREATE TABLE USERS (userid int NOT NULL GENERATED BY DEFAULT AS IDENTITY, username varchar(50), password varchar(50),PRIMARY KEY (userid))
CREATE TABLE SCORE (userid int NOT NULL GENERATED BY DEFAULT AS IDENTITY, nick varchar(50), score INTEGER,PRIMARY KEY (userid))
CREATE PROCEDURE verifyUserPassword(IN username_ varchar(50), IN password_ varchar(50)) READS SQL DATA DYNAMIC RESULT SETS 1 BEGIN ATOMIC DECLARE resultSet SCROLL CURSOR WITH HOLD WITH RETURN FOR SELECT * FROM USERS WHERE USERNAME = username_ AND PASSWORD = password_; OPEN resultSet;END
create table EMPLOYEE (\u0009   id INT NOT NULL GENERATED BY DEFAULT AS IDENTITY,\u0009   first_name VARCHAR(20) default NULL,   last_name  VARCHAR(20) default NULL, salary     INT  default NULL, PRIMARY KEY (id)\u0009)
create table CERTIFICATE (\u0009   id INT NOT NULL GENERATED BY DEFAULT AS IDENTITY, certificate_name VARCHAR(30) default NULL, employee_id INT default NULL, PRIMARY KEY (id))
CREATE PROCEDURE verifyEmployeeSalary(IN user_ varchar(50)) READS SQL DATA DYNAMIC RESULT SETS 1 BEGIN ATOMIC DECLARE resultSet SCROLL CURSOR WITH RETURN FOR SELECT * FROM EMPLOYEE WHERE FIRST_NAME = user_; OPEN resultSet;END
INSERT INTO USERS VALUES(0,'User01','P455w0rd')
INSERT INTO USERS VALUES(1,'User02','B3nchM3rk')
INSERT INTO USERS VALUES(2,'User03','a$c11')
INSERT INTO USERS VALUES(3,'foo','bar')
INSERT INTO SCORE VALUES(0,'User03',155)
INSERT INTO SCORE VALUES(1,'foo',40)
INSERT INTO EMPLOYEE VALUES(0,'foo','bar',100)
COMMIT
DISCONNECT
